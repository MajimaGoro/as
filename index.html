<!DOCTYPE html>
<html>
<head>
    <!-- <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/> -->
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>阿史</title>
    <style>
        body {
            margin: 0  auto;
            font-family: Tahoma, Verdana, Arial, sans-serif;
        }
        hr {
            margin: 24px 0;
            border: 5px dashed #dddddd;
        }
        .update {
            width: 100%;
            text-align: center;
        }
        .update > div {
            border: 2px solid #aaa;
            border-radius: 8px;
            margin: 0 4% 20px 4%;
        }
        .update .announce2 {
            border-color: rgb(248, 132, 145);
        }
        .update .title {
            color: white;
            font-weight: bold;
            line-height: 30px;
        }
        .update .announce2 .title {
            background-color: rgb(248, 132, 145);
        }
        .update .content {
            padding: 5px 20px;
            line-height: 24px;
        }

        .map {
            width: 100%;
            text-align: center;
        }
        .map > div {
            border: 2px solid #aaa;
            border-radius: 8px 8px 0px 0px;
            margin: 0 4% 20px 4%;
        }
        .map .announce2 {
            border-color: rgb(248, 132, 145);
        }
        .map .title {
            color: white;
            font-weight: bold;
            line-height: 30px;
        }
        .map .announce2 .title {
            background-color: rgb(248, 132, 145);
        }
    </style>
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=awruoTXkKs0gcTUN3W100PW3FfkGfbCN">
    //v3.0版本的引用方式：src="http://api.map.baidu.com/api?v=3.0&ak=您的密钥"
    </script>
</head>
<body>
    <!-- <div style="text-align: center; margin: 0 auto;">
        <img src="/as/image/R.I.P.jpg" alt="R.I.P" width="211" height="220">
    </div> -->
    <div style="text-align: center; margin: 0 auto;">
        <img src="/as/image/For-you.jpg" alt="For-you" width="528" height="140">
    </div>
    <div id="timer" style="text-align: center; margin: 0 auto; font-weight: bold; font-size: 36px; line-height: 60px;"></div>
    <hr>
    <div class="update">
        <div class="announce2">
            <div id = "foodTitle" class="title">想一起去吃的东西（2/5）</div>
            <div id = "foodList" class="content">
                1、A区卤排骨<br>
                <del>2、水饺<br></del>
                <del>3、越南菜<br></del>
                4、环球中心热狗<br>
                5、玉子烧
            </div>
        </div>
    </div>
    <hr>
    <div class="map">
        <div class="announce2">
            <div class="title">一起去过的地方</div>
            <div id="container" style="height: 400px;"></div>
        </div>
    </div>



    <script type="text/javascript">// language="javascript"
        /**
         *  倒计时
         */
        function pad(num, n) {
            var len = num.toString().length;
            while(len < n) {
                num = "0" + num;
                len++;
            }
            return num;
        }  
        // var startDate = new Date(2018, 2, 10, 21, 30, 0);   //年月日时分秒，月要减去1  第一次约会（《小萝莉的猴神大叔》、吃饭）
        // var startDate = new Date(2018, 2, 17, 20, 45, 0);   //第二次（《古墓丽影》、吃饭）
        // var startDate = new Date(2018, 2, 19, 21, 25, 0);   //妹子上班被骂哭了，陪她吃饭
    	// var startDate = new Date(2018, 2, 25, 22, 17, 0);      //发烧的后一天，吃饭
        var startDate = new Date(2018, 2, 26, 15, 30, 0);   //2018年3月26日脱团啦
        function countDown()
        {
            var now = new Date();
            var time = Math.floor((now - startDate)/1000);
            var msec = pad((now - startDate) % 1000, 3);
            var day = parseInt(time/3600/24);
            var hour = parseInt((time % (3600*24))/3600);
            var min = parseInt((time % 3600)/60);
            var sec = pad(time % 60, 2);
            document.getElementById('timer').innerHTML = '和阿史在一起的第' + day + '天' + hour + '小时' + min + '分钟' + sec + '秒' + msec + '毫秒，每一天都很开心';
            setTimeout('countDown()', 90);
        };
        window.onload = function ()
        {
            countDown();
        }




        /**
         *  想一起去吃的东西
         */
        // Food类
        function Food(foodName, isGot) {
            this.name = foodName;
            this.got = isGot;
        }
        Food.prototype.isGot = function() {
            return this.got == true;
        };

        var foodList = new Array();
        foodList.push(new Food("A区卤排骨", true));
        foodList.push(new Food("水饺", true));
        foodList.push(new Food("越南菜", true));
        foodList.push(new Food("环球中心热狗", false));
        foodList.push(new Food("玉子烧", true));
        foodList.push(new Food("东门豆腐脑面", false));
        foodList.push(new Food("鹭洲里耗儿鱼", false));

        var amount = 0;
        var s = "";
        for (var index in foodList) {
            if (foodList[index].isGot()) {
                amount = amount + 1;
                s = s + "<del>" + (parseInt(index) + 1) + "、" + foodList[index].name + "<br></del>";
            }
            else {
                s = s + (parseInt(index) + 1) + "、" + foodList[index].name + "<br>";
            }
        }
        document.getElementById("foodTitle").innerHTML = "想一起去吃的东西（" + amount + "/" + foodList.length + "）";
        document.getElementById("foodList").innerHTML = s;



        /**
         *  一起去过的地方
         */
        // 创建地图实例
        var map = new BMap.Map("container");
        // 设置滚轮缩放
        map.enableScrollWheelZoom(true);
        // 平移缩放控件
        map.addControl(new BMap.NavigationControl());
        // 比例尺
        map.addControl(new BMap.ScaleControl());

        // Point类
        function Point(x, y, title) {
            this.point = new BMap.Point(x, y);
            this.title = title;
        }
        var pointList = new Array();
        pointList.push(new Point(104.090445, 30.660027, "大慈寺 2018.4.21"));
        pointList.push(new Point(104.060343, 30.505338, "南湖梦幻岛 2018.4.28"));
        pointList.push(new Point(104.06405, 30.663222, "人民公园 2018.5.5"));

        // 创建星星标记
        var myIcon = new BMap.Icon("/as/image/marker.png", new BMap.Size(22, 22), {imageSize: new BMap.Size(22, 22)});
        for (var index in pointList) {
            var marker = new BMap.Marker(pointList[index].point, {icon: myIcon, title: pointList[index].title});
            map.addOverlay(marker);
        }
        
        // 初始化地图，设置中心点坐标和地图级别  
        map.centerAndZoom(pointList[pointList.length-1].point, 15);

    </script>
</body>
</html>
